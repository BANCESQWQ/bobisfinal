<div class="flex">
  <!-- Sidebar para desktop -->
  <aside 
    [class]="isSidebarOpen ? 'w-64' : 'w-20'" 
    class="bg-gray-900 text-white h-screen fixed lg:relative transition-all duration-300 z-40"
  >
    <div class="p-4 border-b border-gray-700">
      <div class="flex items-center justify-between">
        @if (isSidebarOpen) {
          <h1 class="text-xl font-bold text-white">BOBIS</h1>
        }
        <button 
          (click)="toggleSidebar()" 
          class="p-2 rounded-lg hover:bg-gray-800 transition-colors"
        >
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                  [attr.d]="isSidebarOpen ? 'M6 18L18 6M6 6l12 12' : 'M4 6h16M4 12h16M4 18h16'"></path>
          </svg>
        </button>
      </div>
    </div>

    <nav class="mt-6">
      <ul class="space-y-2 px-3">
        @for (item of menuItems; track item.label) {
          <li>
            <a 
              [routerLink]="item.route" 
              routerLinkActive="bg-primary-600 text-white"
              [class]="isSidebarOpen ? 'px-4' : 'px-3 justify-center'"
              class="flex items-center py-3 rounded-lg hover:bg-gray-800 transition-colors group"
              (click)="setActiveItem(item)"
            >
              <span class="text-lg">{{ item.icon }}</span>
              @if (isSidebarOpen) {
                <span class="ml-3 font-medium">{{ item.label }}</span>
              }
            </a>
          </li>
        }
      </ul>
    </nav>
  </aside>

  <!-- Overlay para mobile -->
  @if (isMobileMenuOpen) {
    <div
      class="fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden"
      (click)="toggleMobileMenu()"
    ></div>
  }
</div>